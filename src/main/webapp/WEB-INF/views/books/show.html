<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Book</title>
</head>
<h3>Book</h3>
<body>
    <p th:text="${book.getName()}">VALUE</p>
    <p th:text="${'Author: ' + book.getAuthor()}">VALUE</p>
    <p th:text="${'Year: ' + book.getYear()}">VALUE</p>
    <p th:if="${book.getPerson_id()!=0}" th:text="${'This book is being red by member with Id =' + book.getPerson_id()}">VALUE</p>
    <p th:if="${book.getPerson_id()==0}">This book is available for reading
        <br><br>
    </p>
    <form th:if="${book.getPerson_id()==0}"
            th:method="PATCH"
                th:action="@{/books/{id}/assign-reader(id=${book.getBook_id()})}"
                th:object="${book}">
        <label for="person_id">Assign reader: </label>
        <input type="text" th:field="*{person_id}" id="person_id"/>
        <input type="submit" value="Assign"/>
    </form>
<br>
    <form th:method="GET"
          th:action="@{/books/{id}/edit(id=${book.getBook_id()})}">
        <input type="submit" value="Edit"/>
    </form>
<br>
    <form th:method="DELETE" th:action="@{/books/{id}/(id=${book.getBook_id()})}">
        <input type="submit" value="Delete"/>
    </form>
<hr>
<br>
    <a href="http://localhost:8080/books">All the books</a>
</body>
</html>